<!DOCTYPE html>
<html>
  <head>
    <title>ìˆ˜ëŸ‰ ë¶€ì¡±!</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* ìŠ¤íƒ€ì¼ë§ì€ í•„ìš”í•œ ê²½ìš° ììœ ë¡­ê²Œ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. */
      .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
      }

      .modal-content {
        background-color: white;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 60%;
      }

      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>ì‡¼í•‘ ì‚¬ì´íŠ¸</h1>
      <nav>
        <ul>
          <li><a href="index.html">í™ˆ</a></li>
          <li><a href="#">ìƒí’ˆ ëª©ë¡</a></li>
          <li><a href="#">ì¥ë°”êµ¬ë‹ˆ</a></li>
          <li><a href="#">ë§ˆì´í˜ì´ì§€</a></li>
        </ul>
      </nav>
    </header>
    <p style="text-align: center">êµ¬ë§¤í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
    <button id="purchaseButton" >yes</button>

    <!-- ëª¨ë‹¬ -->
    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <div id="modalContent">
          <h1>ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•´ìš”!</h1>
          <p>ì•ˆ ë‚´ë©´ ì§„ë‹¤ ê°€ìœ„ë°”ìœ„ ë³´!</p>
          <button id="rock" style="size: 10px">âœŠ</button>
          <button id="paper">ğŸ–</button>
          <button id="scissors">âœŒ</button>
          <p id="result"></p>
        </div>
      </div>
    </div>
    <footer>
      <p>&copy; 2023 ì‡¼í•‘ ì‚¬ì´íŠ¸. All rights reserved.</p>
    </footer>

    <script>
      let game_ing = false;
      const choices = ["âœŒ", "âœŠ", "ğŸ–"];

      function computerChoice() {
        const randomIndex = Math.floor(Math.random() * choices.length);
        return choices[randomIndex];
      }

      function openModal() {
        document.getElementById("myModal").style.display = "block";
      }

      function closeModal() {
        document.getElementById("myModal").style.display = "none";
      }

      function showPurchaseContent() {
        document.getElementById("modalContent").style.display = "block";
      }

      function play(userChoice) {
        if (game_ing == false) {
          const computer = computerChoice();
          let result = "";

          if (userChoice === computer) {
            result = "ë¹„ê²¼ìŠµë‹ˆë‹¤! í˜¹ì‹œëª¨ë¥´ë‹ˆ ì¬ê³  ë‹¤ì‹œí•œë²ˆ í™•ì¸í•˜ì„¸ìš”!";
            game_ing = true;
            setTimeout(function () {
              game_ing = false;
              window.location.href = "index.html";
            }, 3000);
          } else if (
            (userChoice === "âœŒ" && computer === "ğŸ–") ||
            (userChoice === "âœŠ" && computer === "âœŒ") ||
            (userChoice === "ğŸ–" && computer === "âœŠ")
          ) {
            result = "ì´ê²¼ìŠµë‹ˆë‹¤! ê²°ì œ ì°½ìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.";
            game_ing = true;
            setTimeout(function () {
              game_ing = false;
              window.location.href = "payment.html";
            }, 3000);
          } else {
            result = "ì¡ŒìŠµë‹ˆë‹¤! í˜¹ì‹œëª¨ë¥´ë‹ˆ ì¬ê³  ë‹¤ì‹œí•œë²ˆ í™•ì¸í•˜ì„¸ìš”!";
            game_ing = true;
            setTimeout(function () {
              game_ing = false;
              window.location.href = "index.html";
            }, 3000);
          }

          document.getElementById(
            "result"
          ).innerHTML = `ë‹¹ì‹ : ${userChoice}, ì»´í“¨í„°: ${computer}<br>${result}`;
        }
      }

      document
        .getElementById("rock")
        .addEventListener("click", () => play("âœŠ"));
      document
        .getElementById("paper")
        .addEventListener("click", () => play("ğŸ–"));
      document
        .getElementById("scissors")
        .addEventListener("click", () => play("âœŒ"));

      document
        .getElementById("closeModal")
        .addEventListener("click", closeModal);
      document
        .getElementById("purchaseButton")
        .addEventListener("click", openModal);

      // ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ ì‹œ ëª¨ë‹¬ ë‹«ê¸°
      window.onclick = function (event) {
        const modal = document.getElementById("myModal");
        if (event.target === modal) {
          closeModal();
        }
      };
    </script>
  </body>
</html>
